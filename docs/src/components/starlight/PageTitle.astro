---
import Default from '@astrojs/starlight/components/PageTitle.astro';

const { id } = Astro.locals.starlightRoute;
const path = typeof id === 'string' ? id : '';

let iconClass = '';
let iconSymbol = '';

if (path.startsWith('skills')) {
  iconClass = 'page-title-icon page-title-icon--skill';
  iconSymbol = '\u2726';
} else if (path.startsWith('agents')) {
  iconClass = 'page-title-icon page-title-icon--agent';
  iconSymbol = '\u2B21';
} else if (path.startsWith('mcp')) {
  iconClass = 'page-title-icon page-title-icon--mcp';
  iconSymbol = '\u25C8';
}
---

{iconSymbol ? (
  <div class="page-title-wrapper">
    <span class={iconClass} aria-hidden="true">{iconSymbol}</span>
    <Default><slot /></Default>
  </div>
) : (
  <Default><slot /></Default>
)}

<style>
  .page-title-wrapper {
    display: flex;
    align-items: center;
    gap: 0.1em;
    font-size: inherit;
  }
  .page-title-wrapper :global(h1) {
    min-width: 0;
  }
  .page-title-icon {
    flex-shrink: 0;
    font-size: inherit;
  }
</style>
